<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>🛍️ Product Gallery</title>
  
  <!-- 💅 Main CSS -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- ===========================
       🛍️ Page Header & Search
       =========================== -->
  <h1>🛍️ Product Gallery</h1>

  <div id="controls">
    <!-- 🔍 Search Input (Visible on all screens) -->
    <input type="text" id="searchBar" placeholder="🔍 Search by SKU or Name..." aria-label="Search products by SKU or Name" />
    
    <!-- ☰ Hamburger Menu for Mobile -->
    <div id="menuToggle" aria-label="Toggle Filters/Actions" tabindex="0">☰</div>

    <!-- 🎛️ Hidden Filter/Button Group (Toggled on mobile) -->
    <div id="controlGroup">
      <select id="categoryFilter" aria-label="Filter by category">
        <option value="">📂 All Categories</option>
      </select>

      <select id="listingTypeFilter" aria-label="Filter by listing type">
        <option value="">🏷️ All Listing Types</option>
      </select>

      <button id="downloadMissingBtn">⬇️ Missing IMG</button>
      <button id="downloadZipBtn">📦 IMG_zip</button>
    </div>
  </div>

  <!-- ===========================
       🖼️ Dynamic Gallery Area
       =========================== -->
  <div id="gallery" role="list" aria-label="Product Gallery"></div>

  <!-- 📭 Empty State -->
  <div id="emptyState" style="display:none; text-align:center; margin-top:40px;" aria-live="polite"></div>

  <!-- ===========================
       🔍 Lightbox Viewer
       =========================== -->
  <div id="lightbox" class="lightbox hidden" aria-modal="true" role="dialog" aria-label="Image viewer">
    <span id="lightbox-close" aria-label="Close image viewer" tabindex="0" role="button">&times;</span>
    <img id="lightbox-img" src="" alt="Enlarged Image">
  </div>

  <!-- ===========================
       📦 ZIP Search & Confirm Popup
       =========================== -->
  <div id="zipPopup" class="popup hidden">
    <div class="popup-content">
      <h3>🔍 Search Product to ZIP</h3>
      <input type="text" id="zipSearchInput" placeholder="Search by SKU or Name..." />
      <div id="zipSearchResults" class="zip-results"></div>
      <button id="zipDownloadConfirmBtn" disabled>⬇️ Download ZIP</button>
      <button id="zipPopupCloseBtn">❌ Cancel</button>
    </div>
  </div>

  <!-- ===========================
       🔄 ZIP Loading Overlay
       =========================== -->
  <div id="zipLoadingOverlay" class="popup hidden">
    <div class="popup-content">
      <div class="spinner"></div>
      <p style="margin-top: 10px;">Preparing ZIP file, please wait...</p>
      <p id="zipProgressText" style="font-size: 0.95rem; margin-top: 8px; color: #555;"></p>
    </div>
  </div>

  <!-- ===========================
     ⏳ Missing Image Loading Overlay
     =========================== -->
<div id="missingLoadingOverlay" class="popup hidden">
  <div class="popup-content">
    <div class="spinner"></div>
    <p style="margin-top: 10px;">Checking for missing images...</p>
    <p id="missingProgressText" style="font-size: 0.95rem; margin-top: 8px; color: #555;"></p>
  </div>
</div>
  
  
  <!-- ===========================
       📜 Scripts
       =========================== -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.0/jszip.min.js"></script>
  <script type="module" src="scripts/main.js"></script>

</body>
</html>
