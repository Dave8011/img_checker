<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ğŸ›ï¸ Product Gallery</title>

  <!-- ğŸ’… Main CSS -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- ===========================
       ğŸ›ï¸ Page Header & Search
       =========================== -->
  <h1>ğŸ›ï¸ Product Gallery</h1>

  <div id="controls">
    <!-- ğŸ” Search Input (Visible on all screens) -->
    <input type="text" id="searchBar" placeholder="ğŸ” Search by SKU or Name..." aria-label="Search products by SKU or Name" />
    
    <!-- â˜° Hamburger Menu for Mobile -->
    <div id="menuToggle" aria-label="Toggle Filters/Actions" tabindex="0">â˜°</div>

    <!-- ğŸ›ï¸ Hidden Filter/Button Group (Toggled on mobile) -->
    <div id="controlGroup">
      <select id="categoryFilter" aria-label="Filter by category">
        <option value="">ğŸ“‚ All Categories</option>
      </select>

      <select id="listingTypeFilter" aria-label="Filter by listing type">
        <option value="">ğŸ·ï¸ All Listing Types</option>
      </select>

      <!-- New packaging filter to easily pick Glass Bottle / Brown Pouch -->
      <select id="packagingTypeFilter" aria-label="Filter by raw PackagingType">
        <option value="">ğŸ“¦ All PackagingTypes</option>
      </select>

      <button id="downloadMissingBtn">â¬‡ï¸ Missing IMG</button>
      <button id="downloadZipBtn">ğŸ“¬ IMG_zip</button>
    </div>
  </div>

  <!-- ===========================
       ğŸ–¼ï¸ Dynamic Gallery Area
       =========================== -->
  <div id="gallery" role="list" aria-label="Product Gallery"></div>

  <!-- ğŸ“­ Empty State -->
  <div id="emptyState" style="display:none; text-align:center; margin-top:40px;" aria-live="polite"></div>

  <!-- ===========================
       ğŸ” Lightbox Viewer
       =========================== -->
  <div id="lightbox" class="lightbox hidden" aria-modal="true" role="dialog" aria-label="Image viewer" aria-hidden="true">
    <span id="lightbox-close" aria-label="Close image viewer" tabindex="0" role="button">&times;</span>
    <img id="lightbox-img" src="" alt="Enlarged Image">
  </div>

  <!-- ===========================
       ğŸ“¦ ZIP Search & Confirm Popup
       =========================== -->
  <div id="zipPopup" class="popup hidden" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="popup-content">
      <h3>ğŸ” Search Product to ZIP</h3>
      <input type="text" id="zipSearchInput" placeholder="Search by SKU or Name..." aria-label="Search product for ZIP" />
      <div id="zipSearchResults" class="zip-results" role="listbox"></div>
      <button id="zipDownloadConfirmBtn" disabled>â¬‡ï¸ Download ZIP</button>
      <button id="zipPopupCloseBtn">âŒ Cancel</button>
    </div>
  </div>

  <!-- ===========================
       ğŸ”„ ZIP Loading Overlay
       =========================== -->
  <div id="zipLoadingOverlay" class="popup hidden" aria-hidden="true">
    <div class="popup-content">
      <div class="spinner" aria-hidden="true"></div>
      <p style="margin-top: 10px;">Preparing ZIP file, please wait...</p>
      <p id="zipProgressText" style="font-size: 0.95rem; margin-top: 8px; color: #555;"></p>
    </div>
  </div>

  <!-- ===========================
     â³ Missing Image Loading Overlay
     =========================== -->
  <div id="missingLoadingOverlay" class="popup hidden" aria-hidden="true">
    <div class="popup-content">
      <div class="spinner" aria-hidden="true"></div>
      <p style="margin-top: 10px;">Checking for missing images...</p>
      <p id="missingProgressText" style="font-size: 0.95rem; margin-top: 8px; color: #555;"></p>
    </div>
  </div>

  <!-- ===========================
       ğŸ“œ Scripts
       =========================== -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.0/jszip.min.js"></script>
  <script type="module" src="scripts/main.js"></script>

</body>
</html>
