<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ğŸ›ï¸ Product Gallery</title>
  
  <!-- ğŸ’… Main CSS -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- ===========================
       ğŸ›ï¸ Page Header & Search
       =========================== -->
  <h1 id="pageTitle">ğŸ›ï¸ Product Gallery</h1>

  <div id="controls">
    <!-- ğŸ” Search Input -->
    <input 
      type="text" 
      id="searchBar" 
      placeholder="ğŸ” Search by SKU or Name..." 
      aria-label="Search products by SKU or Name" 
    />

    <!-- â˜° Hamburger Menu for Mobile -->
    <div 
      id="menuToggle" 
      aria-label="Toggle Filters/Actions" 
      aria-expanded="false" 
      tabindex="0" 
      role="button"
    >â˜°</div>

    <!-- ğŸ›ï¸ Hidden Filter/Button Group -->
    <div id="controlGroup">
      <select id="categoryFilter" aria-label="Filter by category">
        <option value="">ğŸ“‚ All Categories</option>
      </select>

      <select id="listingTypeFilter" aria-label="Filter by listing type">
        <option value="">ğŸ·ï¸ All Listing Types</option>
      </select>

      <button id="downloadMissingBtn" type="button">â¬‡ï¸ Missing IMG</button>
      <button id="downloadZipBtn" type="button">ğŸ“¦ IMG_zip</button>
    </div>
  </div>

  <!-- ===========================
       ğŸ–¼ï¸ Dynamic Gallery Area
       =========================== -->
  <div id="gallery" role="list" aria-label="Product Gallery"></div>

  <!-- ğŸ“­ Empty State -->
  <div 
    id="emptyState" 
    style="display:none; text-align:center; margin-top:40px;" 
    aria-live="polite"
  ></div>

  <!-- ===========================
       ğŸ” Lightbox Viewer
       =========================== -->
  <div 
    id="lightbox" 
    class="lightbox hidden" 
    role="dialog" 
    aria-modal="true" 
    aria-label="Image viewer"
    tabindex="-1"
  >
    <span 
      id="lightbox-close" 
      aria-label="Close image viewer" 
      tabindex="0" 
      role="button"
    >&times;</span>
    <img id="lightbox-img" src="" alt="Enlarged product image" />
  </div>

  <!-- ===========================
       ğŸ“¦ ZIP Search & Confirm Popup
       =========================== -->
  <div 
    id="zipPopup" 
    class="popup hidden" 
    role="dialog" 
    aria-modal="true" 
    aria-labelledby="zipPopupTitle"
    tabindex="-1"
  >
    <div class="popup-content">
      <h3 id="zipPopupTitle">ğŸ” Search Product to ZIP</h3>
      <input type="text" id="zipSearchInput" placeholder="Search by SKU or Name..." />
      <div id="zipSearchResults" class="zip-results"></div>
      <div class="popup-buttons">
        <button id="zipDownloadConfirmBtn" type="button" disabled>â¬‡ï¸ Download ZIP</button>
        <button id="zipPopupCloseBtn" type="button">âŒ Cancel</button>
      </div>
    </div>
  </div>

  <!-- ===========================
       ğŸ”„ ZIP Loading Overlay
       =========================== -->
  <div 
    id="zipLoadingOverlay" 
    class="popup hidden" 
    role="dialog" 
    aria-modal="true" 
    aria-labelledby="zipProgressText"
    tabindex="-1"
  >
    <div class="popup-content">
      <div class="spinner"></div>
      <p style="margin-top: 10px;">Preparing ZIP file, please wait...</p>
      <p id="zipProgressText" style="font-size: 0.95rem; margin-top: 8px; color: #555;"></p>
    </div>
  </div>

  <!-- ===========================
       â³ Missing Image Loading Overlay
       =========================== -->
  <div 
    id="missingLoadingOverlay" 
    class="popup hidden" 
    role="dialog" 
    aria-modal="true" 
    aria-labelledby="missingProgressText"
    tabindex="-1"
  >
    <div class="popup-content">
      <div class="spinner"></div>
      <p style="margin-top: 10px;">Checking for missing images...</p>
      <p id="missingProgressText" style="font-size: 0.95rem; margin-top: 8px; color: #555;"></p>
    </div>
  </div>

  <!-- ===========================
       ğŸ“œ Scripts
       =========================== -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.0/jszip.min.js" defer></script>
  <script type="module" src="scripts/main.js" defer></script>

</body>
</html>
